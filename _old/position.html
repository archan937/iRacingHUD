<!DOCTYPE html>
<html>
  <head>
    <title>Position</title>
    <script src="./umd/react.development.js"></script>
    <script src="./umd/react-dom.development.js"></script>
    <script src="./umd/styled-components.min.js"></script>
    <script src="./umd/immer.min.js"></script>
    <script src="./umd/game-state.js"></script>
    <script src="./umd/babel.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <script type="text/babel">
      function App() {
        const [state, setState] = useImmerState();

        React.useEffect(() => {
          syncGameState(setState);
        }, []);

        const Frame = styled.div`
          position: absolute;
          width: 100%;
          height: 100%;
          opacity: 0.65;
          background: black;
          border-radius: 10px;
          z-index: 1;
        `;

        const Flex = styled.div`
          padding: 30px;
          display: flex;
          position: relative;
          z-index: 1;
        `;

        const Position = styled.div`
          color: white;
          font-family: Microsoft YaHei UI;
          font-size: 50px;
          font-weight: 400;
          line-height: 100%;
          text-align: center;
        `;

        const Competitor = styled(Position)`
          font-size: 20px;
        `;

        return (
          <>
            <Frame />
            <Flex>
              <Position>P{state.position}</Position>
              <div>
                <Competitor>
                  ({state.ahead}) +{state.deltaAhead}
                </Competitor>
                <Competitor>
                  ({state.behind}) -{state.deltaBehind}
                </Competitor>
              </div>
            </Flex>
          </>
        );
      }

      ReactDOM.render(<App />, document.getElementById("app"));
    </script>
  </body>
</html>
